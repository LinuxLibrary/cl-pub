# Route 53 Configuration

- Go to Route 53 from the Amazon console
- ***HostedZone***
	- To create a hosted zone click on `HostedZones` from the Route 53 dashboard
	- Click on `Create Hosted Zone`
	- Provide the details

	```
	Domain Name 	: linux-library.in
	Comment		: Linux Library
	Type		: Public / Private Hosted Zone
	```
	
	- Once you have created the HostedZone then you need to create the RecordSets
	- To create a record set, first click on the domain name in the HostedZones
	- Click on `Create Record Set`
	- Provide the details

	```
	Name		: `www`.linux-library.in
	Type		: A - IPv4 Address
	Alias		: Yes / No (If you have some addresses which have been generated by AWS like the address
			of the ELB in that case you can set this to Yes and need to select the address for which
			you are trying to create an alias)
	TTL (Seconds)	: 300
	Value		: <IP_ADDRESS(es) of your machine which is serving as A record>
	Routing Policy	: Simple
	```

- ***Assigning Weighted Routing Policy***
	- On creating a record set apart from selecting the Routing Policy as Simple let us do the following.
	- The scenario is I have 2 servers out of which the first one is capable of handling 80% of the traffic where as the second one is capable of handling 20%.
	- For creating the Weighted Route of 80%
		- While creating the record set give the value as the IP of the first server which is capable of handling 80% of traffic
		- Select the Routing Policy as `Weighted`
		- Give the weight as `80`
		- In the Set ID give some description to identify the Route and click on `Create`
	- For creating the Weighted Route of 20%
		- Process is same as above. Just change the following
		- Give the value as the IP of the second server which can handle the 20% of traffic
		- Give the weight as `20`
		- Give some description

- ***Assigning Latency Based Routing Policy***
	- For the Latency Based Routing the process is same but instead of giving the weight we need to mentionin which AWS AZ that server is located.

- ***Geolocation Routing Policy***
	- For this we have to select the nearby location of the server. We can get a list of multiple locations
	- If we have created this for multiple locations in that case the web serving request will automatically be forwarded to a near by server depending on the location

- ***FailOver Routing Policy***
	- For a FailOver Routing Policy we need to have the HealthChecks configured as depending the health check if we are unable to reach a specific server then we can redirect the traffic to another server.
	- Let us create a health check
	- From the Route53 dashboard click on `Create Health Check` in the left pane and provide the below details

	```
	Name			: myWebFO1
	Protocol		: HTTP / HTTPS / TCP
	Specify End Point by	: IP Address / Domain Name
	IP Address		: < SERVER_IP_ADDRESS >
	Hostname		: < MY_HOST_NAME >
	Port			: < PORT_NUMBER >
	Path			: /index.htm(l)
	Request Interval	: Standard (30 seconds) / Fast (10 seconds)
	Failure Threshold	: 3 (As per your choice)
	Enable String Matching	: Yes / No (If Yes provide the Search String)
	```

	- Click on `Create`
	- Now create a FailOver Routing based on this HealthCheck
	- On creating the RecordSet select the Routing policy as `Failover`
	- Select `Primary`
	- Associate with HealthCheck : `Yes`
	- Health Check to associate : `myWebFO1`
	- Same way you can create another Reocrd set for the Secondary Failover
